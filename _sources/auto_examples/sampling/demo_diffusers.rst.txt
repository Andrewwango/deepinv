
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/sampling/demo_diffusers.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        New to DeepInverse? Get started with the basics with the
        :ref:`5 minute quickstart tutorial <sphx_glr_auto_examples_basics_demo_quickstart.py>`.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_sampling_demo_diffusers.py:


Using state-of-the-art diffusion models from HuggingFace Diffusers with DeepInverse
======================================================================================

This demo shows you how to use our wrapper
:class:`deepinv.models.DiffusersDenoiserWrapper` to turn any SOTA models from the HuggingFace Hub to an image denoiser. It also can be used to perform unconditional image generation or for posterior sampling.

See more about the `diffusers pipeline <https://huggingface.co/docs/diffusers/index>`_ and our posterior sampling `user guide <https://deepinv.github.io/deepinv/auto_examples/sampling/demo_diffusion_sde.html>`_.

.. note:: This example requires the `diffusers` and `transformers` package. You can install it via `pip install diffusers transformers`.

.. GENERATED FROM PYTHON SOURCE LINES 15-31

.. code-block:: Python

    import torch
    import deepinv as dinv
    from deepinv.models.wrapper import DiffusersDenoiserWrapper

    device = "cuda" if torch.cuda.is_available() else "cpu"
    dtype = torch.float32
    figsize = 2.5

    from deepinv.sampling import (
        PosteriorDiffusion,
        EulerSolver,
        VarianceExplodingDiffusion,
        VariancePreservingDiffusion,
    )
    from deepinv.optim import ZeroFidelity








.. GENERATED FROM PYTHON SOURCE LINES 32-36

----------------------------------------------------

Let us first load a pretrained diffusion model from the HuggingFace Hub. Here, we use the `google/ddpm-ema-celebahq-256` model.
This model is trained on 256x256 of CelebA dataset using the DDPM scheduler.

.. GENERATED FROM PYTHON SOURCE LINES 36-61

.. code-block:: Python


    # We can wrap any diffusers model as a DeepInv denoiser using one line of code:
    denoiser = DiffusersDenoiserWrapper(
        mode_id="google/ddpm-ema-celebahq-256", device=device
    )

    # Load an example image
    x = dinv.utils.load_example(
        "celeba_example2.jpg",
        img_size=256,
        resize_mode="resize",
    ).to(device)

    # Add noise and test the denoiser
    sigma = 0.1
    x_noisy = x + sigma * torch.randn_like(x)
    with torch.no_grad():
        x_denoised = denoiser(x_noisy, sigma=sigma)

    dinv.utils.plot(
        [x, x_noisy, x_denoised],
        figsize=(figsize * 3, figsize),
        titles=["Original image", "Noisy image", "Denoised image"],
    )




.. image-sg:: /auto_examples/sampling/images/sphx_glr_demo_diffusers_001.png
   :alt: Original image, Noisy image, Denoised image
   :srcset: /auto_examples/sampling/images/sphx_glr_demo_diffusers_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Fetching 4 files:   0%|          | 0/4 [00:00<?, ?it/s]    Fetching 4 files:  25%|██▌       | 1/4 [00:00<00:00,  4.51it/s]    Fetching 4 files:  50%|█████     | 2/4 [00:01<00:02,  1.14s/it]    Fetching 4 files: 100%|██████████| 4/4 [00:01<00:00,  2.00it/s]
    Loading pipeline components...:   0%|          | 0/2 [00:00<?, ?it/s]An error occurred while trying to fetch /home/runner/.cache/huggingface/hub/models--google--ddpm-ema-celebahq-256/snapshots/4cb6117472e6e4f45c5afe606b101858c27c3802: Error no file named diffusion_pytorch_model.safetensors found in directory /home/runner/.cache/huggingface/hub/models--google--ddpm-ema-celebahq-256/snapshots/4cb6117472e6e4f45c5afe606b101858c27c3802.
    Defaulting to unsafe serialization. Pass `allow_pickle=False` to raise an error instead.
    Loading pipeline components...:  50%|█████     | 1/2 [00:00<00:00,  7.22it/s]    Loading pipeline components...: 100%|██████████| 2/2 [00:00<00:00, 11.42it/s]




.. GENERATED FROM PYTHON SOURCE LINES 62-67

---------------------------------

It is also possible to use the wrapped model for unconditional image generation.
The model was trained with DDPM scheduler, however we can use it with any SDE provided in DeepInv.
Here, we use the Variance Exploding SDE with Euler solver for sampling.

.. GENERATED FROM PYTHON SOURCE LINES 67-106

.. code-block:: Python


    num_steps = 125
    rng = torch.Generator(device)
    timesteps = torch.linspace(1, 0.001, num_steps)
    solver = EulerSolver(timesteps=timesteps, rng=rng)

    sigma_min = 0.001
    sigma_max = 80
    sde = VarianceExplodingDiffusion(
        sigma_max=sigma_max,
        sigma_min=sigma_min,
        alpha=0.5,
        device=device,
        dtype=dtype,
    )

    model = PosteriorDiffusion(
        data_fidelity=ZeroFidelity(),
        sde=sde,
        denoiser=denoiser,
        solver=solver,
        dtype=dtype,
        device=device,
        verbose=True,
    )
    sample, trajectory = model(
        y=None,
        physics=None,
        x_init=(1, 3, 256, 256),
        seed=42,
        get_trajectory=True,
    )
    dinv.utils.plot(
        sample,
        titles="Unconditional generation",
        figsize=(figsize, figsize),
    )





.. image-sg:: /auto_examples/sampling/images/sphx_glr_demo_diffusers_002.png
   :alt: Unconditional generation
   :srcset: /auto_examples/sampling/images/sphx_glr_demo_diffusers_002.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

      0%|          | 0/124 [00:00<?, ?it/s]      1%|          | 1/124 [00:03<06:18,  3.08s/it]      2%|▏         | 2/124 [00:06<06:15,  3.08s/it]      2%|▏         | 3/124 [00:09<06:12,  3.08s/it]      3%|▎         | 4/124 [00:12<06:10,  3.09s/it]      4%|▍         | 5/124 [00:15<06:06,  3.08s/it]      5%|▍         | 6/124 [00:18<06:02,  3.07s/it]      6%|▌         | 7/124 [00:21<05:59,  3.07s/it]      6%|▋         | 8/124 [00:24<05:56,  3.07s/it]      7%|▋         | 9/124 [00:27<05:53,  3.07s/it]      8%|▊         | 10/124 [00:30<05:49,  3.07s/it]      9%|▉         | 11/124 [00:33<05:46,  3.07s/it]     10%|▉         | 12/124 [00:36<05:43,  3.07s/it]     10%|█         | 13/124 [00:39<05:40,  3.07s/it]     11%|█▏        | 14/124 [00:43<05:37,  3.07s/it]     12%|█▏        | 15/124 [00:46<05:34,  3.07s/it]     13%|█▎        | 16/124 [00:49<05:31,  3.07s/it]     14%|█▎        | 17/124 [00:52<05:29,  3.08s/it]     15%|█▍        | 18/124 [00:55<05:25,  3.07s/it]     15%|█▌        | 19/124 [00:58<05:22,  3.07s/it]     16%|█▌        | 20/124 [01:01<05:19,  3.07s/it]     17%|█▋        | 21/124 [01:04<05:16,  3.07s/it]     18%|█▊        | 22/124 [01:07<05:12,  3.07s/it]     19%|█▊        | 23/124 [01:10<05:10,  3.07s/it]     19%|█▉        | 24/124 [01:13<05:07,  3.07s/it]     20%|██        | 25/124 [01:16<05:03,  3.07s/it]     21%|██        | 26/124 [01:19<05:00,  3.07s/it]     22%|██▏       | 27/124 [01:22<04:57,  3.07s/it]     23%|██▎       | 28/124 [01:25<04:54,  3.07s/it]     23%|██▎       | 29/124 [01:29<04:51,  3.07s/it]     24%|██▍       | 30/124 [01:32<04:48,  3.07s/it]     25%|██▌       | 31/124 [01:35<04:45,  3.07s/it]     26%|██▌       | 32/124 [01:38<04:42,  3.07s/it]     27%|██▋       | 33/124 [01:41<04:39,  3.07s/it]     27%|██▋       | 34/124 [01:44<04:36,  3.07s/it]     28%|██▊       | 35/124 [01:47<04:32,  3.07s/it]     29%|██▉       | 36/124 [01:50<04:29,  3.07s/it]     30%|██▉       | 37/124 [01:53<04:26,  3.07s/it]     31%|███       | 38/124 [01:56<04:23,  3.07s/it]     31%|███▏      | 39/124 [01:59<04:20,  3.07s/it]     32%|███▏      | 40/124 [02:02<04:17,  3.07s/it]     33%|███▎      | 41/124 [02:05<04:14,  3.07s/it]     34%|███▍      | 42/124 [02:08<04:11,  3.07s/it]     35%|███▍      | 43/124 [02:12<04:08,  3.07s/it]     35%|███▌      | 44/124 [02:15<04:05,  3.07s/it]     36%|███▋      | 45/124 [02:18<04:02,  3.07s/it]     37%|███▋      | 46/124 [02:21<03:59,  3.07s/it]     38%|███▊      | 47/124 [02:24<03:56,  3.07s/it]     39%|███▊      | 48/124 [02:27<03:52,  3.06s/it]     40%|███▉      | 49/124 [02:30<03:49,  3.06s/it]     40%|████      | 50/124 [02:33<03:46,  3.06s/it]     41%|████      | 51/124 [02:36<03:43,  3.06s/it]     42%|████▏     | 52/124 [02:39<03:40,  3.06s/it]     43%|████▎     | 53/124 [02:42<03:37,  3.06s/it]     44%|████▎     | 54/124 [02:45<03:34,  3.07s/it]     44%|████▍     | 55/124 [02:48<03:31,  3.07s/it]     45%|████▌     | 56/124 [02:51<03:28,  3.07s/it]     46%|████▌     | 57/124 [02:54<03:25,  3.07s/it]     47%|████▋     | 58/124 [02:58<03:22,  3.07s/it]     48%|████▊     | 59/124 [03:01<03:19,  3.07s/it]     48%|████▊     | 60/124 [03:04<03:16,  3.07s/it]     49%|████▉     | 61/124 [03:07<03:13,  3.07s/it]     50%|█████     | 62/124 [03:10<03:10,  3.07s/it]     51%|█████     | 63/124 [03:13<03:07,  3.07s/it]     52%|█████▏    | 64/124 [03:16<03:04,  3.07s/it]     52%|█████▏    | 65/124 [03:19<03:00,  3.07s/it]     53%|█████▎    | 66/124 [03:22<02:57,  3.07s/it]     54%|█████▍    | 67/124 [03:25<02:54,  3.07s/it]     55%|█████▍    | 68/124 [03:28<02:51,  3.07s/it]     56%|█████▌    | 69/124 [03:31<02:48,  3.07s/it]     56%|█████▋    | 70/124 [03:34<02:45,  3.06s/it]     57%|█████▋    | 71/124 [03:37<02:42,  3.07s/it]     58%|█████▊    | 72/124 [03:40<02:39,  3.07s/it]     59%|█████▉    | 73/124 [03:44<02:36,  3.07s/it]     60%|█████▉    | 74/124 [03:47<02:33,  3.07s/it]     60%|██████    | 75/124 [03:50<02:30,  3.07s/it]     61%|██████▏   | 76/124 [03:53<02:27,  3.07s/it]     62%|██████▏   | 77/124 [03:56<02:24,  3.07s/it]     63%|██████▎   | 78/124 [03:59<02:21,  3.07s/it]     64%|██████▎   | 79/124 [04:02<02:18,  3.07s/it]     65%|██████▍   | 80/124 [04:05<02:14,  3.07s/it]     65%|██████▌   | 81/124 [04:08<02:11,  3.07s/it]     66%|██████▌   | 82/124 [04:11<02:09,  3.07s/it]     67%|██████▋   | 83/124 [04:14<02:05,  3.07s/it]     68%|██████▊   | 84/124 [04:17<02:02,  3.07s/it]     69%|██████▊   | 85/124 [04:20<01:59,  3.07s/it]     69%|██████▉   | 86/124 [04:23<01:56,  3.07s/it]     70%|███████   | 87/124 [04:26<01:53,  3.07s/it]     71%|███████   | 88/124 [04:30<01:50,  3.06s/it]     72%|███████▏  | 89/124 [04:33<01:47,  3.06s/it]     73%|███████▎  | 90/124 [04:36<01:44,  3.06s/it]     73%|███████▎  | 91/124 [04:39<01:41,  3.06s/it]     74%|███████▍  | 92/124 [04:42<01:38,  3.06s/it]     75%|███████▌  | 93/124 [04:45<01:34,  3.06s/it]     76%|███████▌  | 94/124 [04:48<01:31,  3.06s/it]     77%|███████▋  | 95/124 [04:51<01:28,  3.07s/it]     77%|███████▋  | 96/124 [04:54<01:25,  3.07s/it]     78%|███████▊  | 97/124 [04:57<01:22,  3.07s/it]     79%|███████▉  | 98/124 [05:00<01:19,  3.07s/it]     80%|███████▉  | 99/124 [05:03<01:16,  3.07s/it]     81%|████████  | 100/124 [05:06<01:13,  3.07s/it]     81%|████████▏ | 101/124 [05:09<01:10,  3.07s/it]     82%|████████▏ | 102/124 [05:12<01:07,  3.07s/it]     83%|████████▎ | 103/124 [05:16<01:04,  3.07s/it]     84%|████████▍ | 104/124 [05:19<01:01,  3.07s/it]     85%|████████▍ | 105/124 [05:22<00:58,  3.07s/it]     85%|████████▌ | 106/124 [05:25<00:55,  3.07s/it]     86%|████████▋ | 107/124 [05:28<00:52,  3.07s/it]     87%|████████▋ | 108/124 [05:31<00:49,  3.07s/it]     88%|████████▊ | 109/124 [05:34<00:45,  3.06s/it]     89%|████████▊ | 110/124 [05:37<00:42,  3.06s/it]     90%|████████▉ | 111/124 [05:40<00:39,  3.07s/it]     90%|█████████ | 112/124 [05:43<00:36,  3.07s/it]     91%|█████████ | 113/124 [05:46<00:33,  3.07s/it]     92%|█████████▏| 114/124 [05:49<00:30,  3.07s/it]     93%|█████████▎| 115/124 [05:52<00:27,  3.08s/it]     94%|█████████▎| 116/124 [05:55<00:24,  3.08s/it]     94%|█████████▍| 117/124 [05:59<00:21,  3.08s/it]     95%|█████████▌| 118/124 [06:02<00:18,  3.08s/it]     96%|█████████▌| 119/124 [06:05<00:15,  3.08s/it]     97%|█████████▋| 120/124 [06:08<00:12,  3.08s/it]     98%|█████████▊| 121/124 [06:11<00:09,  3.08s/it]     98%|█████████▊| 122/124 [06:14<00:06,  3.08s/it]     99%|█████████▉| 123/124 [06:17<00:03,  3.08s/it]    100%|██████████| 124/124 [06:20<00:00,  3.08s/it]    100%|██████████| 124/124 [06:20<00:00,  3.07s/it]




.. GENERATED FROM PYTHON SOURCE LINES 107-111

---------------------

Similar to other denoisers in DeepInv, the wrapped diffusers model can be used for posterior sampling.
Below we use VP-SDE for posterior sampling in an inpainting problem.

.. GENERATED FROM PYTHON SOURCE LINES 111-126

.. code-block:: Python


    # Initialize the physics and the VP-SDE

    mask = torch.ones_like(x)
    mask[..., 70:150, 120:180] = 0
    physics = dinv.physics.Inpainting(
        mask=mask,
        img_size=x.shape[1:],
        device=device,
        noise_model=dinv.physics.GaussianNoise(0.05),
    )

    y = physics(x)
    sde = VariancePreservingDiffusion(device=device, dtype=dtype)








.. GENERATED FROM PYTHON SOURCE LINES 127-140

.. code-block:: Python


    from deepinv.sampling import DPSDataFidelity

    model = PosteriorDiffusion(
        data_fidelity=DPSDataFidelity(denoiser=denoiser, weight=0.3),
        denoiser=denoiser,
        sde=sde,
        solver=solver,
        dtype=dtype,
        device=device,
        verbose=True,
    )








.. GENERATED FROM PYTHON SOURCE LINES 141-152

.. code-block:: Python

    posterior_sample = model(
        y=y,
        physics=physics,
        x_init=(1, 3, 256, 256),
        seed=15,
    )
    dinv.utils.plot(
        [x, y, posterior_sample],
        titles=["Original image", "Measurement", "Posterior sample"],
        figsize=(figsize * 3, figsize),
    )



.. image-sg:: /auto_examples/sampling/images/sphx_glr_demo_diffusers_003.png
   :alt: Original image, Measurement, Posterior sample
   :srcset: /auto_examples/sampling/images/sphx_glr_demo_diffusers_003.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

      0%|          | 0/124 [00:00<?, ?it/s]      1%|          | 1/124 [00:09<19:06,  9.32s/it]      2%|▏         | 2/124 [00:18<18:54,  9.30s/it]      2%|▏         | 3/124 [00:27<18:43,  9.29s/it]      3%|▎         | 4/124 [00:37<18:33,  9.28s/it]      4%|▍         | 5/124 [00:46<18:23,  9.28s/it]      5%|▍         | 6/124 [00:55<18:14,  9.28s/it]      6%|▌         | 7/124 [01:04<18:04,  9.27s/it]      6%|▋         | 8/124 [01:14<17:54,  9.26s/it]      7%|▋         | 9/124 [01:23<17:45,  9.26s/it]      8%|▊         | 10/124 [01:32<17:36,  9.26s/it]      9%|▉         | 11/124 [01:42<17:28,  9.28s/it]     10%|▉         | 12/124 [01:51<17:20,  9.29s/it]     10%|█         | 13/124 [02:00<17:11,  9.29s/it]     11%|█▏        | 14/124 [02:09<17:02,  9.29s/it]     12%|█▏        | 15/124 [02:19<16:51,  9.28s/it]     13%|█▎        | 16/124 [02:28<16:41,  9.28s/it]     14%|█▎        | 17/124 [02:37<16:33,  9.28s/it]     15%|█▍        | 18/124 [02:47<16:23,  9.28s/it]     15%|█▌        | 19/124 [02:56<16:14,  9.28s/it]     16%|█▌        | 20/124 [03:05<16:03,  9.27s/it]     17%|█▋        | 21/124 [03:14<15:55,  9.27s/it]     18%|█▊        | 22/124 [03:24<15:45,  9.27s/it]     19%|█▊        | 23/124 [03:33<15:35,  9.27s/it]     19%|█▉        | 24/124 [03:42<15:26,  9.26s/it]     20%|██        | 25/124 [03:51<15:18,  9.28s/it]     21%|██        | 26/124 [04:01<15:08,  9.27s/it]     22%|██▏       | 27/124 [04:10<14:58,  9.27s/it]     23%|██▎       | 28/124 [04:19<14:48,  9.26s/it]     23%|██▎       | 29/124 [04:28<14:41,  9.27s/it]     24%|██▍       | 30/124 [04:38<14:32,  9.28s/it]     25%|██▌       | 31/124 [04:47<14:22,  9.27s/it]     26%|██▌       | 32/124 [04:56<14:13,  9.28s/it]     27%|██▋       | 33/124 [05:06<14:03,  9.27s/it]     27%|██▋       | 34/124 [05:15<13:54,  9.28s/it]     28%|██▊       | 35/124 [05:24<13:45,  9.27s/it]     29%|██▉       | 36/124 [05:33<13:36,  9.28s/it]     30%|██▉       | 37/124 [05:43<13:26,  9.27s/it]     31%|███       | 38/124 [05:52<13:17,  9.27s/it]     31%|███▏      | 39/124 [06:01<13:08,  9.28s/it]     32%|███▏      | 40/124 [06:10<12:58,  9.27s/it]     33%|███▎      | 41/124 [06:20<12:49,  9.27s/it]     34%|███▍      | 42/124 [06:29<12:39,  9.27s/it]     35%|███▍      | 43/124 [06:38<12:30,  9.27s/it]     35%|███▌      | 44/124 [06:48<12:20,  9.26s/it]     36%|███▋      | 45/124 [06:57<12:11,  9.26s/it]     37%|███▋      | 46/124 [07:06<12:02,  9.26s/it]     38%|███▊      | 47/124 [07:15<11:52,  9.26s/it]     39%|███▊      | 48/124 [07:25<11:43,  9.26s/it]     40%|███▉      | 49/124 [07:34<11:35,  9.27s/it]     40%|████      | 50/124 [07:43<11:26,  9.27s/it]     41%|████      | 51/124 [07:52<11:17,  9.28s/it]     42%|████▏     | 52/124 [08:02<11:08,  9.28s/it]     43%|████▎     | 53/124 [08:11<10:58,  9.27s/it]     44%|████▎     | 54/124 [08:20<10:49,  9.27s/it]     44%|████▍     | 55/124 [08:30<10:40,  9.28s/it]     45%|████▌     | 56/124 [08:39<10:30,  9.27s/it]     46%|████▌     | 57/124 [08:48<10:20,  9.26s/it]     47%|████▋     | 58/124 [08:57<10:11,  9.27s/it]     48%|████▊     | 59/124 [09:07<10:02,  9.26s/it]     48%|████▊     | 60/124 [09:16<09:52,  9.26s/it]     49%|████▉     | 61/124 [09:25<09:43,  9.26s/it]     50%|█████     | 62/124 [09:34<09:35,  9.28s/it]     51%|█████     | 63/124 [09:44<09:26,  9.28s/it]     52%|█████▏    | 64/124 [09:53<09:16,  9.28s/it]     52%|█████▏    | 65/124 [10:02<09:07,  9.28s/it]     53%|█████▎    | 66/124 [10:12<08:58,  9.29s/it]     54%|█████▍    | 67/124 [10:21<08:48,  9.28s/it]     55%|█████▍    | 68/124 [10:30<08:39,  9.28s/it]     56%|█████▌    | 69/124 [10:39<08:30,  9.27s/it]     56%|█████▋    | 70/124 [10:49<08:21,  9.29s/it]     57%|█████▋    | 71/124 [10:58<08:12,  9.30s/it]     58%|█████▊    | 72/124 [11:07<08:02,  9.28s/it]     59%|█████▉    | 73/124 [11:17<07:53,  9.28s/it]     60%|█████▉    | 74/124 [11:26<07:44,  9.28s/it]     60%|██████    | 75/124 [11:35<07:34,  9.28s/it]     61%|██████▏   | 76/124 [11:44<07:25,  9.27s/it]     62%|██████▏   | 77/124 [11:54<07:15,  9.27s/it]     63%|██████▎   | 78/124 [12:03<07:06,  9.27s/it]     64%|██████▎   | 79/124 [12:12<06:56,  9.26s/it]     65%|██████▍   | 80/124 [12:21<06:47,  9.26s/it]     65%|██████▌   | 81/124 [12:31<06:38,  9.26s/it]     66%|██████▌   | 82/124 [12:40<06:28,  9.26s/it]     67%|██████▋   | 83/124 [12:49<06:20,  9.27s/it]     68%|██████▊   | 84/124 [12:58<06:10,  9.27s/it]     69%|██████▊   | 85/124 [13:08<06:01,  9.26s/it]     69%|██████▉   | 86/124 [13:17<05:52,  9.27s/it]     70%|███████   | 87/124 [13:26<05:43,  9.27s/it]     71%|███████   | 88/124 [13:36<05:34,  9.28s/it]     72%|███████▏  | 89/124 [13:45<05:24,  9.27s/it]     73%|███████▎  | 90/124 [13:54<05:15,  9.28s/it]     73%|███████▎  | 91/124 [14:03<05:05,  9.27s/it]     74%|███████▍  | 92/124 [14:13<04:56,  9.26s/it]     75%|███████▌  | 93/124 [14:22<04:47,  9.27s/it]     76%|███████▌  | 94/124 [14:31<04:38,  9.27s/it]     77%|███████▋  | 95/124 [14:40<04:29,  9.28s/it]     77%|███████▋  | 96/124 [14:50<04:19,  9.28s/it]     78%|███████▊  | 97/124 [14:59<04:10,  9.28s/it]     79%|███████▉  | 98/124 [15:08<04:01,  9.27s/it]     80%|███████▉  | 99/124 [15:18<03:51,  9.27s/it]     81%|████████  | 100/124 [15:27<03:42,  9.27s/it]     81%|████████▏ | 101/124 [15:36<03:33,  9.27s/it]     82%|████████▏ | 102/124 [15:45<03:23,  9.27s/it]     83%|████████▎ | 103/124 [15:55<03:14,  9.27s/it]     84%|████████▍ | 104/124 [16:04<03:05,  9.26s/it]     85%|████████▍ | 105/124 [16:13<02:55,  9.25s/it]     85%|████████▌ | 106/124 [16:22<02:46,  9.25s/it]     86%|████████▋ | 107/124 [16:32<02:37,  9.26s/it]     87%|████████▋ | 108/124 [16:41<02:28,  9.26s/it]     88%|████████▊ | 109/124 [16:50<02:19,  9.29s/it]     89%|████████▊ | 110/124 [17:00<02:10,  9.30s/it]     90%|████████▉ | 111/124 [17:09<02:00,  9.29s/it]     90%|█████████ | 112/124 [17:18<01:51,  9.28s/it]     91%|█████████ | 113/124 [17:27<01:41,  9.27s/it]     92%|█████████▏| 114/124 [17:37<01:32,  9.27s/it]     93%|█████████▎| 115/124 [17:46<01:23,  9.27s/it]     94%|█████████▎| 116/124 [17:55<01:14,  9.28s/it]     94%|█████████▍| 117/124 [18:04<01:04,  9.28s/it]     95%|█████████▌| 118/124 [18:14<00:55,  9.27s/it]     96%|█████████▌| 119/124 [18:23<00:46,  9.28s/it]     97%|█████████▋| 120/124 [18:32<00:37,  9.27s/it]     98%|█████████▊| 121/124 [18:42<00:27,  9.27s/it]     98%|█████████▊| 122/124 [18:51<00:18,  9.28s/it]     99%|█████████▉| 123/124 [19:00<00:09,  9.27s/it]    100%|██████████| 124/124 [19:09<00:00,  9.27s/it]    100%|██████████| 124/124 [19:09<00:00,  9.27s/it]





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (25 minutes 43.188 seconds)


.. _sphx_glr_download_auto_examples_sampling_demo_diffusers.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: demo_diffusers.ipynb <demo_diffusers.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: demo_diffusers.py <demo_diffusers.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: demo_diffusers.zip <demo_diffusers.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
